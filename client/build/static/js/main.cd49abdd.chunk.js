(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){},164:function(e,t,a){e.exports=a(314)},314:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),s=a.n(c),l=a(22),i=a(56),o=a(142),m=a(26),u=a(27),g=a(30),p=a(28),f=a(31),d=a(321),E=a(154),h=a(323),b=a(318),v={starsInner:{width:"".concat(110,"px")},starsEmptyInner:{position:"absolute",width:"".concat(110,"px")},starsOuter:{overflow:"hidden"},star:{padding:"1px"}},k=function(e){var t,a={width:"".concat((t=e.rating,Math.floor(110*t/5)),"px")};return r.a.createElement("div",null,r.a.createElement("div",{style:v.starsOuter},r.a.createElement("div",{style:a},r.a.createElement("div",{style:v.starsEmptyInner},r.a.createElement("i",{className:"fa fa-star-o fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star-o fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star-o fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star-o fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star-o fa-lg",style:v.star})),r.a.createElement("div",{style:v.starsInner},r.a.createElement("i",{className:"fa fa-star fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star fa-lg",style:v.star}),r.a.createElement("i",{className:"fa fa-star fa-lg",style:v.star})))))};k.defaultProps={rating:0};var y=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(d.a,{as:"h1",textAlign:"center"},e.game.name),r.a.createElement(E.a,{src:"https://images.igdb.com/igdb/image/upload/t_cover_big/".concat(e.cover.image_id,".jpg"),centered:!0}),r.a.createElement(b.a,null),r.a.createElement("br",null),e.screenshots.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(E.a,{centered:!0,src:"https://images.igdb.com/igdb/image/upload/t_screenshot_med/".concat(e.image_id,".jpg")}))}),r.a.createElement(b.a,null),r.a.createElement("div",null,"Rating: ",r.a.createElement(h.a,{icon:"star",defaultRating:3,maxRating:5})," ",parseInt(e.game.aggregated_rating),"/100",r.a.createElement("br",null),"Platforms:"," ",e.platforms.map(function(e,t){return r.a.createElement("span",{key:t},e.abbreviation," ")})||[],r.a.createElement("br",null),"Genre:"," ",e.genres.map(function(e,t){return r.a.createElement("span",{key:t},e.name," ")}),r.a.createElement(b.a,null),e.game.summary,r.a.createElement("br",null)),r.a.createElement(b.a,null))},O=a(319),j=a(320),_=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(d.a,{as:"h1",textAlign:"center"},"ALL GAMES"),e.games.map(function(e){return r.a.createElement("div",{className:"card-deck",key:e.id},r.a.createElement(O.a.Group,{centered:!0,itemsPerRow:"2"},r.a.createElement(O.a,null,r.a.createElement(O.a.Content,null,r.a.createElement(O.a.Header,null,e.name),r.a.createElement(E.a,{src:"https://images.igdb.com/igdb/image/upload/t_cover_big/".concat(e.cover.image_id,".jpg"),fluid:!0}),r.a.createElement(O.a.Description,null,e.summary),r.a.createElement("br",null),r.a.createElement(j.a,{fluid:!0,color:"blue",key:e.id,href:"/games/".concat(e.id)},"Game Details")))))}))};function N(){return function(e){return e({type:"LOADING_GAMES"}),fetch("/api/games").then(function(e){return e.json()}).then(function(t){e({type:"FETCH_GAMES",games:t})})}}var I=a(48),S=a(74),w=a.n(S),D=function(e){return e.likes.filter(function(t){return t.game_id===e.gameId}).map(function(e){return e.like_count}).reduce(function(e,t){return e+t},0)},G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).increment=function(){a.setState({count:a.state.count+1})},a.handleOnClick=function(e){e.preventDefault(),a.props.addLike({game_id:a.props.gameId,count:a.state.count}),a.increment(),w.a.post("/api/likes",{like:{game_id:a.props.gameId,like_count:a.state.count+1}}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},a.state={count:0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getLikes",value:function(){var e=this;w.a.get("/api/likes/").then(function(t){console.log(t),e.setState({likes:t.data}),e.getLike(t[0].id)}).catch(function(e){return console.log(e)})}},{key:"getLike",value:function(e){var t=this;w.a.get("/api/likes/".concat(e)).then(function(e){t.setState({like:e.data})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getLikes()}},{key:"render",value:function(){return console.log("this is state"),console.log(this.state),console.log("this is props"),console.log(this.props),r.a.createElement("div",{className:"ui buttons"},r.a.createElement(j.a,{inverted:!0,color:"red",onClick:this.handleOnClick},r.a.createElement(I.a,{name:"heart"}),"Like"),r.a.createElement(j.a,{basic:!0,color:"red"},r.a.createElement("div",null,r.a.createElement(D,{likes:this.state.likes||[],gameId:this.props.gameId||[]}))))}}]),t}(n.Component),C=Object(l.b)(function(e){return{game:e.game,likes:e.likes,count:e.count}})(G),L=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(p.a)(t).call(this,e))).setGame=function(){var e=parseInt(a.props.match.params.gameId),t=a.props.games.find(function(t){return t.id===e});a.setState({game:t})},a.handleClick=function(e){e.preventDefault();var t={game_id:parseInt(a.props.match.params.gameId)};a.setState({like:a.state.like.count+1}),fetch("/api/likes",{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({like:{game_id:t.game_id,like_count:a.state.like.count+1}})}).then(function(e){return e.json()})},a.state={games:[],game:[],like:[]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGames()}},{key:"componentDidUpdate",value:function(e){this.props.game!==e.game&&this.setGame()}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",null,r.a.createElement(y,{game:this.state.game,cover:this.state.game.cover||[],platforms:this.state.game.platforms||[],screenshots:this.state.game.screenshots||[],genres:this.state.game.genres||[],onClick:this.handleClick,likes:this.state.like.count}),r.a.createElement(C,{game:this.state.game,gameId:this.state.game.id,addLike:this.props.addLike}))}}]),t}(n.Component),A=Object(l.b)(function(e){return{games:e.games,game:e.game,like:e.like,count:e.count}},function(e){return{fetchGames:function(){e(N())},addLike:function(t){e(function(e){return{type:"ADD_LIKE",like:e}}(t))}}})(L),x=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).setGame=function(){var e=parseInt(a.props.match.params.gameId),t=a.props.games.find(function(t){return t.id===e});a.setState({game:t})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"app")}}]),t}(n.Component),M=(Object(l.b)(function(e){return{games:e.games,game:e.game}})(x),function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGames()}},{key:"render",value:function(){return console.log(this.props.games),r.a.createElement("div",null,r.a.createElement(_,{games:this.props.games,summary:this.props.games.summary,cover:this.props.games.cover}))}}]),t}(n.Component)),T=Object(l.b)(function(e){return{games:e.games}},function(e){return{fetchGames:function(){e(N())}}})(M),R=a(35),P=a(40),H=(a(139),function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"home-container"},r.a.createElement("p",null,"Select a genre"),r.a.createElement(R.b,{to:"/all"},r.a.createElement("button",{className:"css-button"},"All genres")),r.a.createElement("button",{className:"css-button"},"RPG (WIP)"),r.a.createElement("button",{className:"css-button"},"WIP")))}),U=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(R.c,{to:"/",activeStyle:{color:"gray"}},r.a.createElement(I.a,{name:"home",size:"small"})," Home"))},X=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(R.a,null,r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement(P.a,{exact:!0,path:"/",component:H}),r.a.createElement(P.a,{exact:!0,path:"/all",component:T}),r.a.createElement(P.a,{path:"/games/:gameId",component:A})))}}]),t}(r.a.Component),J=a(75),F=a(153),K=a.n(F).a;var V=Object(i.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{games:[],game:[],like:[],count:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_GAMES":return Object(J.a)({},e,{loading:!0});case"FETCH_GAMES":return{games:t.games};case"ADD_LIKE":var a={game:t.game,count:t.count,id:K()};return Object(J.a)({},e.like,{like:a});case"INCREASE_COUNT":return t.count,Object(J.a)({},e.count,{count:e.count+1});default:return e}},Object(i.a)(o.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(r.a.createElement(l.a,{store:V},r.a.createElement(X,null)),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.cd49abdd.chunk.js.map