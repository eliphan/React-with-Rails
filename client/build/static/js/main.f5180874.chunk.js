(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){},168:function(e,t,a){e.exports=a(320)},320:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),i=a.n(c),l=a(36),o=a(26),m=a(143),s=a(33),u=a(34),p=a(37),g=a(35),d=a(38),E=a(17),f=a(327),b=a(325),h=a(158),k=a(326),j=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{as:"h1",textAlign:"center"},"ALL GAMES"),e.games.map(function(e){return r.a.createElement("div",{className:"card-deck",key:e.id},r.a.createElement(b.a.Group,{centered:!0,itemsPerRow:"3"},r.a.createElement(b.a,null,r.a.createElement(b.a.Content,null,r.a.createElement(b.a.Header,null,r.a.createElement(E.b,{key:e.id,to:"/games/".concat(e.id)},e.name)),r.a.createElement(h.a,{src:"https://images.igdb.com/igdb/image/upload/t_1080p/".concat(e.cover.image_id,".jpg"),fluid:!0}),r.a.createElement(b.a.Description,null,e.summary),r.a.createElement("br",null),r.a.createElement(k.a,{fluid:!0,color:"blue",key:e.id,href:"/games/".concat(e.id)},"Game Details")))))}))},v=a(74),O=a.n(v);function y(e){return function(t){O.a.post("/api/likes",{headers:{"Content-Type":"application/json"},like:{game_id:JSON.stringify(e.game_id),like_count:1}}).then(function(e){t({type:"ADD_LIKE",like:e.data}),console.log(e)})}}function _(){return function(e){O.a.get("/api/likes/").then(function(t){e({type:"GET_LIKES",like:t.data})})}}var G=a(329),A=a(324),I=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{as:"h1",textAlign:"center"},e.game.name),r.a.createElement(h.a,{src:"https://images.igdb.com/igdb/image/upload/t_cover_big/".concat(e.cover.image_id,".jpg"),centered:!0}),r.a.createElement(A.a,null),r.a.createElement("br",null),e.screenshots.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(h.a,{centered:!0,src:"https://images.igdb.com/igdb/image/upload/t_screenshot_med/".concat(e.image_id,".jpg")}))}),r.a.createElement(A.a,null),r.a.createElement("div",null,"Rating: ",r.a.createElement(G.a,{icon:"star",defaultRating:3,maxRating:5})," ",parseInt(e.game.aggregated_rating),"/100",r.a.createElement("br",null),"Platforms:"," ",e.platforms.map(function(e,t){return r.a.createElement("span",{key:t},e.abbreviation," ")})||[],r.a.createElement("br",null),"Genre:"," ",e.genres.map(function(e,t){return r.a.createElement("span",{key:t},e.name," ")}),r.a.createElement(A.a,null),e.game.summary,r.a.createElement("br",null)),r.a.createElement(A.a,null))},L=(a(140),a(48)),D=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(E.c,{to:"/",activeStyle:{color:"gray"}},r.a.createElement(L.a,{name:"home",size:"small"})," Home"))},N=function(e){return e.likes.filter(function(t){return t.game_id===e.gameId}).map(function(e){return e.like_count}).reduce(function(e,t){return e+t},0)},S=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getLikes()}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:"ui buttons"},r.a.createElement(k.a,{inverted:!0,color:"red",onClick:this.props.onClick},r.a.createElement(L.a,{name:"heart"}),"Like"),r.a.createElement(k.a,{basic:!0,color:"red"},r.a.createElement("div",null,r.a.createElement(N,{likes:this.props.like||[],gameId:this.props.gameId||[]}))))}}]),t}(n.Component),C=Object(l.b)(function(e){return{like:e.like}},function(e){return{increaseLike:function(t){e(y(t))},getLikes:function(){e(_())}}})(S),M=a(40),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleOnClick=function(e){e.preventDefault(),a.props.increaseLike({game_id:a.props.game.game.id,like_count:1})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setGame({game:this.props.games.find(function(t){return t.id===parseInt(e.props.match.params.gameId)})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,{game:this.props.game.game||[],cover:this.props.game.game.cover||[],platforms:this.props.game.game.platforms||[],screenshots:this.props.game.game.screenshots||[],genres:this.props.game.game.genres||[]}),r.a.createElement(C,{game:this.props.game.game,gameId:this.props.game.game.id,onClick:this.handleOnClick}))}}]),t}(n.Component),T=Object(M.d)(Object(l.b)(function(e){return{games:e.games,game:e.game,like:e.like}},function(e){return{getLikes:function(){e(_())},setGame:function(t){e(function(e){return function(t){return t({type:"LOADING_GAMES"}),fetch("/api/games").then(function(e){return e.json()}).then(function(a){t({type:"SET_GAME",game:e,games:a})})}}(t))},increaseLike:function(t){e(y(t))}}})(w)),x=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGames()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{games:this.props.games}))}}]),t}(n.Component),P=Object(l.b)(function(e){return{games:e.games}},function(e){return{fetchGames:function(){e(function(e){return e({type:"LOADING_GAMES"}),fetch("/api/games").then(function(e){return e.json()}).then(function(t){e({type:"FETCH_GAMES",games:t})})})}}})(x),R=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"home-container"},r.a.createElement("p",null,"Select a genre"),r.a.createElement(E.b,{to:"/all"},r.a.createElement("button",{className:"css-button"},"All genres")),r.a.createElement("button",{className:"css-button"},"RPG (WIP)"),r.a.createElement("button",{className:"css-button"},"WIP")))},H=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement(M.a,{exact:!0,path:"/",component:R}),r.a.createElement(M.a,{exact:!0,path:"/all",component:P}),r.a.createElement(M.a,{path:"/games/:gameId",component:T})))}}]),t}(r.a.Component),K=a(154),J=a(50),W=a(155);a.n(W).a;var F=a(100),z=a(156),B=a.n(z),q=a(157),Q={key:"root",storage:B.a,blacklist:[""]},U=Object(F.a)(Q,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{games:[],game:[],like:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_GAMES":return Object(J.a)({},e,{loading:!0});case"FETCH_GAMES":return Object(J.a)({},e,{games:t.games});case"SET_GAME":return Object(J.a)({},e,{games:t.games,like:e.like},e,{game:t.game});case"ADD_LIKE":return Object(J.a)({},e,{game_id:t.game_id,like_count:t.like_count});case"GET_LIKES":return Object(J.a)({},e,{like:t.like});default:return e}}),V=Object(o.createStore)(U,Object(K.composeWithDevTools)(Object(o.applyMiddleware)(m.a))),X=Object(F.b)(V);i.a.render(r.a.createElement(l.a,{store:V},r.a.createElement(q.a,{loading:null,persistor:X},r.a.createElement(E.a,null,r.a.createElement(H,null)))),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.f5180874.chunk.js.map